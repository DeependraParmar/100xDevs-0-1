<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Interest</title>
</head>
<body>
    <form action="" id="loginform">
        Principal: <input oninput="debouncedCalculateInterest()" type="number" name="principal" id="principal"> <br>
        Rate: <input oninput="debouncedCalculateInterest()" type="number" name="rate" id="rate"> <br>
        Time: <input oninput="debouncedCalculateInterest()" type="number" name="time" id="time"> <br><br>
    </form>
    <!-- <button onclick="calculateInterest()">Calculate Interest</button> <br> -->
    <span>Simple Interest is: </span><span style="color: red;" id="result"></span>
    <script>
        const debouncedCalculateInterest = () => {
            let timeout;
            clearTimeout(timeout);
            setTimeout(() => {
                calculateInterest();
            }, 1000);
        }
        const calculateInterest = async() => {
            let principal = document.getElementById("principal").value;
            let rate = document.getElementById("rate").value;
            let time = document.getElementById("time").value;

            const res = await fetch(`https://sum-server.100xdevs.com/interest?principal=${principal}&rate=${rate}&time=${time}`)
            const data = await res.text();
            console.log(data);
            document.getElementById("result").innerHTML = data ;
        }
    </script>
</body>
</html>